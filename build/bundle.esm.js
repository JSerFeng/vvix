const e=e=>{console.warn(e)},t=(e,t)=>{console.error(e),console.error(t)},n=(e,t)=>e.flags===t.flags&&e.type===t.type,l=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!(n in t)||e[n]!==t[n])return!1;return!0},r=e=>{const t=e.length;if(0===t)return[];if(1===t)return[0];const n=new Array(t).fill(1),l=[];let r=-1;for(let l=t-1;l>=0;l--){const i=e[l];for(let o=l+1;o<t;o++){i<e[o]&&(n[l]=Math.max(n[l],1+n[o]),(-1===r||n[r]<n[l])&&(r=l))}}if(-1===r)return[];for(;r<t;){const e=n[r];for(l.push(r++);n[r]!==e-1&&r<t;)r++}return l},i=e=>Array.isArray(e),o=e=>"object"==typeof e&&null!==e,s=e=>null==e,c=e=>null!=e,a=[];let u=null,f=!1;function d(e,t={lazy:!1,active:!0}){const n=h(e,t);return n.lazy||n(),n}function h(e,t){const n=function t(...l){t.active&&!f&&(a.includes(n)||(a.push(t),u=n,e(...l),a.pop(),u=null))};return n.lazy=t.lazy||!1,n.active=t.active||!0,n.raw=e,n.deps=[],n.scheduler=t.scheduler||null,n}const p=(e,t)=>{const n=_.get(e);if(!n)return;const l=n.get(t);l&&l.forEach((e=>{e!==u&&(e.scheduler?e.scheduler(e):e())}))},_=new WeakMap,g=(e,t)=>{if(!u)return;let n=_.get(e);n||_.set(e,n=new Map);let l=n.get(t);l||n.set(t,l=new Set),l.has(u)||(l.add(u),u.deps.push(l))},y=e=>{e.active=!1},m=()=>{f=!0},v=()=>{f=!1},C=new WeakMap,k=new WeakMap,E={get(e,t,n){if("_mark"===t)return!0;if("_raw"===t)return e;const l=Reflect.get(e,t,n);return g(e,t),"object"==typeof l?F(l):l},set(e,t,n,l){const r=e[t],i=Reflect.set(e,t,n,l);return n!==r&&p(e,t),i},has(e,t){const n=Reflect.has(e,t);return g(e,t),n},deleteProperty(e,t){const n=Reflect.deleteProperty(e,t);return p(e,t),n}},F=e=>{if("object"!=typeof e)return e;if(e._raw)return e;let t;return(t=C.get(e))||(t=new Proxy(e,E),k.set(t,e)),t},w=e=>k.get(e)||e,A=e=>(e._raw=!0,e);class M{constructor(e){this._isRef=!0,s(e)?this._value=null:this._value=o(e)?F(e):e}get value(){return g(this,"value"),this._value}set value(e){e!==this._value&&(this._value=e,p(this,"value"))}}function b(e){return s(e)?new M:(e=>e&&!!e._isRef)(e)?e:new M(e)}var x,N;!function(e){e[e.Element=1]="Element",e[e.FC=2]="FC",e[e.Text=4]="Text",e[e.Fragment=8]="Fragment"}(x||(x={})),function(e){e[e.Multiple=1]="Multiple",e[e.Single=2]="Single",e[e.NoChildren=8]="NoChildren"}(N||(N={}));const S=Symbol("Fragment");class T{constructor(e,t,n){this.data={},this._isVNode=!0,this.el=null,this._instance=null,this.type=e,"function"==typeof e?(this.flags=x.FC,this._instance={_props:{children:[],...t},_render:null,_mounted:!1,_vnode:null,_update:null,_onMount:[],_onUnmount:[]}):this.flags="string"==typeof e?x.Element:e===S?x.Fragment:x.Text,this.data=t,this.key=c(t.key)?t.key:null;Array.isArray(n)?(this.children=n.map((e=>"string"==typeof e?j(null,null,e):e)),this.childFlags=N.Multiple):"object"==typeof n&&null!==n?(this.children=n,this.childFlags=N.Single):"string"==typeof n?this.flags&x.Text?(this.childFlags=N.NoChildren,this.children=n):(this.childFlags=N.Single,this.children=j(null,null,n)):(this.childFlags=N.NoChildren,this.children=null)}}function j(e,t,...n){let l=null;return 0===n.length?l=null:1===n.length?(l=n[0],"object"!=typeof l&&(l+="")):l=n,new T(e,t||{},l)}const R=(e,t,n)=>{let{children:l}=t;return void 0===l?l=[]:Array.isArray(l)||(l=[l]),j(e,{key:n,...t},...l)},B=R,z=[];let D=!1;const P=e=>{z.includes(e)||z.push(e),D||(D=!0,Promise.resolve().then(W))},W=()=>{z.forEach((e=>e())),z.length=0,D=!1},L=/\[A-Z]|^(?:value|checked|selected|muted)$/;let U=null;const O={getElement:e=>document.querySelector(e),createElement:e=>document.createElement(e),createTextNode:e=>document.createTextNode(e),appendChild:(e,t)=>e.appendChild(t),insertBefore:(e,t,n)=>e.insertBefore(t,n),removeChild:(e,t)=>e.removeChild(t),setAttribute(e,t,n){/\[A-Z]|^(?:value|checked|selected|muted)$/.test(t)?e[t]=n:"key"!==t&&"children"!==t&&e.setAttribute(t,n)},setText:(e,t)=>e.textContent=t,patchData(e,t,n,l,r){if(n!==l&&!(r&&r&x.Element&&"children"===t))switch(t){case"style":if(n)for(const t in n)e.style[t]=n[t];if(l)for(const t in l)n&&n[t]===l[t]||(e.style[t]="");break;case"class":e.className=n;break;default:if(t.startsWith("on")){const r=t.split("on")[1].toLowerCase();n&&e.addEventListener(r,n),l&&e.removeEventListener(r,l)}else L.test(t)?e[t]=n:e.setAttribute(t,n)}}};function Z(e){function t(n,l,r){if(s(n))return;const{flags:i}=n;i&x.FC?function(e,n,l){const{type:r}=e;e._instance._update=()=>{if(e._instance._mounted){const t=e._instance._vnode,l=e._instance._render();a(l,t,n),e._instance._vnode=l}else{const r=e._instance._vnode=e._instance._render();t(r,n,l),e.el=r.el,e._instance._mounted=!0;for(const t of e._instance._onMount)t()}},U=e._instance,e._instance._render=r(e._instance._props),U=null,d((()=>{e._instance._update()}),{scheduler:P})}(n,l,r):i&x.Element?function(n,l,r){const{data:i,childFlags:o,children:s}=n,c=n.el=e.createElement(n.type);i.ref&&(i.ref.value=c);for(const t in i)e.patchData(c,t,i[t],null,x.Element);r?e.insertBefore(l,c,r):e.appendChild(l,c);!function(e,n,l,r){if(e&N.NoChildren)return;e&N.Single?t(n,r):e&N.Multiple&&function(e,n){for(const l of n)t(l,e.el)}(l,n)}(o,s,n,c)}(n,l,r):i&x.Text?function(t,n,l){const r=e.createTextNode(t.children);t.el=r,l?e.insertBefore(n,r,l):e.appendChild(n,r)}(n,l,r):function(e,n,l){const{children:r}=e;Array.isArray(r)?(r.forEach((e=>t(e,n,l))),e.el=r[0].el):r&&(t(r,n,l),e.el=r.el)}(n,l,r)}function i(t,n){const{flags:l,children:r}=t;l&x.Element||l&x.Text?e.removeChild(n,t.el):l&x.FC?o(t,n):l&x.Fragment&&(Array.isArray(r)?r.forEach((e=>i(e,n))):r&&i(r,n))}function o(e,t){const{childFlags:n,children:l}=e,r=e.el;if(n&N.Multiple)for(const e of l)e.flags&x.FC&&o(e,r);let i=e._instance._onUnmount;if(i.length)for(const e of i)e();t.removeChild(r)}function a(r,i,o){if(r&&i)if(n(r,i)){const t=r.flags;t&x.FC?function(e,t){if(e.el=t.el,e._instance=t._instance,function(e,t){const n=e._instance._props,r=t._instance._props;return delete n.children,delete r.children,l(n,r)}(e,t))return;const n=e._instance._props,r=t._instance._props;for(const t in n)n[t]!==r[t]&&(e._instance._props[t]=n[t]);e._instance._update()}(r,i):t&x.Text?function(t,n){const l=t.el=n.el;t.children!==n.children&&e.setText(l,t.children)}(r,i):t&x.Element?function(t,n){const l=t.el=n.el;for(const r in t.data)e.patchData(l,r,t.data[r],n.data[r],x.Element);for(const r in n.data)t.data[r]||e.patchData(l,r,null,n.data[r],x.Element);u(t,n)}(r,i):function(e,t){u(e,t)}(r,i)}else!function(e,n,l){l.removeChild(n.el),t(e,l)}(r,i,o);else r?t(r,o):i&&e.removeChild(o,i.el)}function u(n,l){const{childFlags:o,children:s}=n,{childFlags:u,children:f,el:d}=l;if(o&N.NoChildren){if(u&N.Single)i(f,d);else if(u&N.Multiple)for(const e of f)i(e,d)}else if(o&N.Single){if(u&N.NoChildren)t(s,d);else if(u&N.Single)a(s,f,d);else if(u&N.Multiple){for(const e of f)i(e,d);t(s,d)}}else if(o&N.Multiple)if(u&N.NoChildren)for(const e of s)t(e,d);else if(u&N.Single){i(f,d);for(const e of s)t(e,d)}else u&N.Multiple&&function(n,l,o){let s=0,u=n.length-1,f=n[s],d=l.length-1,h=l[s];e:{for(;s<=u&&s<=d&&f.key===h.key;){if(a(f,h,o),s++,s>u||s>d)break e;f=n[s],h=l[s]}for(f=n[u],h=l[d];s<=u&&s<=d&&f.key===h.key;){if(a(f,h,o),u--,d--,s>u||s>d)break e;f=n[u],h=l[d]}}if(s>u&&s<=d)for(let e=s;e<=d;e++)i(l[e],o);else if(s>d){const e=d+1>=l.length?void 0:l[d+1].el;for(let l=s;l<=u;l++)t(n[l],o,e)}else{let p=!1,_=0,g=0;const y=u-s+1,m=new Array(y).fill(-1),v={};for(let e=0;e<y;e++)v[n[s+e].key]=e;for(let e=s;e<=d;e++)if(h=l[e],g<y){const t=v[h.key];c(t)?(f=n[t+s],a(f,h,o),g++,m[t]=e,t<_?p=!0:_=t):i(h,o)}else i(h,o);if(p){const l=r(m);let i=l.length-1;for(let r=u;r>=s;r--){if(f=n[r],-1===m[r]){t(f,o,r+1<n.length?n[r+1].el:void 0)}if(r===l[i])i--;else{const t=r+1<n.length?n[r+1].el:void 0;e.insertBefore(o,f.el,t)}}}}}(s,f,d)}return function(e,n){const l=n.vnode;l?e?(a(e,l,n),n.vnode=e):(n.removeChild(l.el),n.vnode=null):(t(e,n),n.vnode=e)}}const $=e=>{G()&&U._onMount.push(e)},q=e=>{G()&&U._onUnmount.push(e)},V=e=>{G()&&U._props.ref&&(U._props.ref.value=e)},G=()=>!!U||(e("hook must be called inside a function component"),!1),H=Z(O),I=(e,t)=>{t||(t=O);const n=Z(t);return{mount(l){l?"string"!=typeof l||(l=t.getElement(l))?n(e,l):console.warn("无效的id或者class"):console.warn("请指定一个挂在节点的id或者class或者dom节点")}}};export{N as ChildrenFlags,S as Fragment,M as Ref,T as VNode,x as VNodeFlags,t as _err,e as _warn,u as activeEffect,O as baseNodeOps,G as checkHookAvailable,I as createApp,h as createEffect,Z as createRenderer,d as effect,a as effectStack,V as expose,j as h,i as isArray,c as isDef,o as isObject,n as isSameVNode,s as isUndef,R as jsx,B as jsxs,r as lis,A as markRaw,$ as onMounted,q as onUnmounted,m as pauseTracking,F as reactive,b as ref,H as render,v as resetTracking,l as shallowEqual,y as stop,w as toRaw,g as track,p as trigger};
