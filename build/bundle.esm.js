const e=e=>{console.warn(e)},t=(e,t)=>{console.error(e),console.error(t)},n=(e,t)=>e.flags===t.flags&&e.type===t.type,l=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!(n in t)||e[n]!==t[n])return!1;return!0},r=e=>{const t=e.length;if(0===t)return[];if(1===t)return[0];const n=new Array(t).fill(1),l=[];let r=-1;for(let l=t-1;l>=0;l--){const o=e[l];for(let i=l+1;i<t;i++){o<e[i]&&(n[l]=Math.max(n[l],1+n[i]),(-1===r||n[r]<n[l])&&(r=l))}}if(-1===r)return[];for(;r<t;){const e=n[r];for(l.push(r++);n[r]!==e-1&&r<t;)r++}return l},o=e=>Array.isArray(e),i=e=>"object"==typeof e&&null!==e,s=e=>null==e,c=e=>null!=e,a=[];let f=null,u=!1;function h(e,t={lazy:!1,active:!0}){const n=d(e,t);return n.lazy||n(),n}function d(e,t){const n=function t(...l){t.active&&!u&&(a.includes(n)||(a.push(t),f=n,e(...l),a.pop(),f=null))};return n.lazy=t.lazy||!1,n.active=t.active||!0,n.raw=e,n.deps=[],n.scheduler=t.scheduler||null,n}const p=(e,t)=>{const n=g.get(e);if(!n)return;const l=n.get(t);l&&l.forEach((e=>{e!==f&&(e.scheduler?e.scheduler(e):e())}))},g=new WeakMap,_=(e,t)=>{if(!f)return;let n=g.get(e);n||g.set(e,n=new Map);let l=n.get(t);l||n.set(t,l=new Set),l.has(f)||(l.add(f),f.deps.push(l))},y=e=>{e.active=!1},m=()=>{u=!0},v=()=>{u=!1},k=new WeakMap,C=new WeakMap,w={get(e,t,n){if("_mark"===t)return!0;if("_raw"===t)return e;const l=Reflect.get(e,t,n);return _(e,t),i(l)&&!l._isVNode?E(l):l},set(e,t,n,l){const r=e[t],o=Reflect.set(e,t,n,l);return n!==r&&p(e,t),o},has(e,t){const n=Reflect.has(e,t);return _(e,t),n},deleteProperty(e,t){const n=Reflect.deleteProperty(e,t);return p(e,t),n}},E=e=>{if("object"!=typeof e)return e;if(e._raw)return e;let t;return(t=k.get(e))||(t=new Proxy(e,w),C.set(t,e)),t},S=e=>C.get(e)||e,F=e=>(e._raw=!0,e),b=e=>e&&!!e._isRef;class x{constructor(e){this._isRef=!0,s(e)?this._value=null:this._value=i(e)?E(e):e}get value(){return _(this,"value"),this._value}set value(e){e!==this._value&&(this._value=e,p(this,"value"))}}function M(e){return s(e)?new x:b(e)?e:new x(e)}var N,A;!function(e){e[e.Element=1]="Element",e[e.FC=2]="FC",e[e.Text=4]="Text",e[e.Fragment=8]="Fragment",e[e.Portal=16]="Portal",e[e.Svg=32]="Svg"}(N||(N={})),function(e){e[e.Multiple=1]="Multiple",e[e.Single=2]="Single",e[e.NoChildren=8]="NoChildren"}(A||(A={}));const T=Symbol("Fragment"),P=Symbol("Portal");class R{constructor(e,t,n,l){this.data={},this._isVNode=!0,this.el=null,this._instance=null,this.type=e,"function"==typeof e?(this.flags=N.FC,this._instance={_props:{children:[],...t},_render:null,_mounted:!1,_vnode:null,_update:null,_onMount:[],_onUnmount:[]}):this.flags="string"==typeof e?"svg"===e?N.Svg:N.Element:e===T?N.Fragment:e===P?N.Portal:N.Text,c(l)?this.key=l:c(t.key)?(this.key=t.key,delete t.key):this.key=null,this.data=t;Array.isArray(n)?(this.children=n.map((e=>i(e)?e:j(null,null,e+""))),this.childFlags=A.Multiple):i(n)?(this.children=n,this.childFlags=A.Single):c(n)?this.flags&N.Text?(this.childFlags=A.NoChildren,this.children=n.toString()):(this.childFlags=A.Single,this.children=j(null,null,n.toString())):(this.childFlags=A.NoChildren,this.children=null)}}function B(e,t){return n=>("function"==typeof e&&(e=D(e,n)),()=>D(P,{children:e},t))}function j(e,t,...n){let l=null;return 0===n.length?l=null:1===n.length?(l=n[0],"object"!=typeof l&&(l+="")):l=n,new R(e,t||{},l)}const D=(e,t,n)=>{let{children:l}=t;if(o(l)){let e=!1,t=[];for(const n of l)if(o(n)){e=!0,t=n;break}if(e){const e={};for(const n of t)if(c(n.key)){if(n.key in e){console.error("[key property] can not be the same \nduplicated key: \n"+n.key);break}e[n.key]=!0}else console.error("child in an array must have a key \n");l=l.flat()}}return new R(e,t,l,n)},z=D,W=[];let L=!1;const U=e=>{W.includes(e)||W.push(e),L||(L=!0,Promise.resolve().then(O))},O=()=>{W.forEach((e=>e())),W.length=0,L=!1},V=/\[A-Z]|^(?:value|checked|selected|muted)$/;let Z=null;const $={getElement:e=>document.querySelector(e),createElement:e=>document.createElement(e),createTextNode:e=>document.createTextNode(e),createComment:e=>document.createComment(e),createSvgElement:e=>document.createElementNS("http://www.w3.org/2000/svg",e),appendChild:(e,t)=>e.appendChild(t),insertBefore:(e,t,n)=>e.insertBefore(t,n),removeChild:(e,t)=>e.removeChild(t),setAttribute(e,t,n){/\[A-Z]|^(?:value|checked|selected|muted)$/.test(t)?e[t]=n:"key"!==t&&"children"!==t&&e.setAttribute(t,n)},setText:(e,t)=>e.textContent=t,patchData(e,t,n,l,r){if(n!==l&&!(r&&r&N.Element&&"children"===t))switch(t){case"style":if(n)for(const t in n)e.style[t]=n[t];if(l)for(const t in l)n&&n[t]===l[t]||(e.style[t]="");break;case"class":e.className=n;break;default:if(t.startsWith("on")){const r=t.split("on")[1].toLowerCase();n&&e.addEventListener(r,n),l&&e.removeEventListener(r,l)}else V.test(t)?e[t]=n:e.setAttribute(t,n)}}};function q(e){function t(n,l,r,o){if(s(n))return;const{flags:i}=n;i&N.FC?function(e,n,l,r){const{type:o}=e;e._instance._update=()=>{if(e._instance._mounted){const t=e._instance._vnode,r=e._instance._render();a(r,t,n,l,t?.el?.nextSibling),e._instance._vnode=r}else{const o=e._instance._vnode=e._instance._render();t(o,n,l,r),e.el=o.el,e._instance._mounted=!0;for(const t of e._instance._onMount)t()}},Z=e._instance,e._instance._render=o(e._instance._props),Z=null,h((()=>{e._instance._update()}),{scheduler:U})}(n,l,r,o):i&(N.Element|N.Svg)?function(n,l,r,o){const{data:i,childFlags:s,children:c,type:a}=n,f=n.el=r?e.createSvgElement(a):e.createElement(a);i.ref&&(i.ref.value=f);for(const t in i)e.patchData(f,t,i[t],null,N.Element);o?e.insertBefore(l,f,o):e.appendChild(l,f);!function(e,n,l,r,o){if(e&A.NoChildren)return;if(e&A.Single)t(n,r,o);else if(e&A.Multiple){const e=l.el;for(const l of n)t(l,e,o)}}(s,c,n,f,r)}(n,l,r,o):i&N.Text?function(t,n,l){const r=e.createTextNode(t.children);t.el=r,l?e.insertBefore(n,r,l):e.appendChild(n,r)}(n,l,o):i&N.Portal?function(n){const l=n.el="string"==typeof n.key?e.getElement(n.key):n.key;t(n.children,l,!1)}(n):function(n,l,r,o){const{children:i}=n;Array.isArray(i)?i.forEach((e=>t(e,l,r,o))):i&&t(i,l,r,o);const s=e.createComment("__FRAGMENT_END__");n.el=s,o?e.insertBefore(l,s,o):e.appendChild(l,s)}(n,l,r,o)}function o(t,n){const{flags:l,children:r,el:s}=t;if(l&N.Element||l&N.Text)e.removeChild(n,t.el);else if(l&N.FC)i(t,n);else if(l&N.Fragment)Array.isArray(r)?r.forEach((e=>o(e,n))):r&&o(r,n),e.removeChild(n,s);else if(l&N.Portal){const e=t.el;o(t.children,e)}}function i(t,n){const{childFlags:l,children:r}=t,o=t.el;if(l&A.Multiple)for(const e of r)e.flags&N.FC&&i(e,o);let s=t._instance._onUnmount;if(s.length)for(const e of s)e();t._instance=null,e.removeChild(n,o)}function a(r,i,s,c,u){if(r&&i)if(n(r,i)){const t=r.flags;t&N.FC?function(e,t){if(e.el=t.el,e._instance=t._instance,function(e,t){const n=e._instance._props,r=t._instance._props;return delete n.children,delete r.children,l(n,r)}(e,t))return;const n=e._instance._props,r=t._instance._props;for(const t in n)n[t]!==r[t]&&(e._instance._props[t]=n[t]);e._instance._update()}(r,i):t&N.Text?function(t,n){const l=t.el=n.el;t.children!==n.children&&e.setText(l,t.children)}(r,i):t&N.Element?function(t,n,l){const r=t.el=n.el;for(const l in t.data)e.patchData(r,l,t.data[l],n.data[l],N.Element);for(const l in n.data)t.data[l]||e.patchData(r,l,null,n.data[l],N.Element);f(t,n,l)}(r,i,c):t&N.Portal?function(e,t){const n=e.el=t.el;a(e.children,t.children,n,!1)}(r,i):function(e,t,n,l){const r=e.el=t.el;f(e,t,l,n,r)}(r,i,s,c)}else!function(e,n,l,r){const i=n.el?.nextSibling;o(n,l),t(e,l,r,i)}(r,i,s,c);else r?t(r,s,c,u):i&&o(i,s)}function f(n,l,i,s,f){const{childFlags:u,children:h}=n,{childFlags:d,children:p}=l,g=s||l.el;if(u&A.NoChildren){if(d&A.Single)o(p,g);else if(d&A.Multiple)for(const e of p)o(e,g)}else if(u&A.Single){if(d&A.NoChildren)t(h,g,i,f);else if(d&A.Single)a(h,p,g,i,f);else if(d&A.Multiple){for(const e of p)o(e,g);t(h,g,i,f)}}else if(u&A.Multiple)if(d&A.NoChildren)for(const e of h)t(e,g,i,f);else if(d&A.Single){o(p,g);for(const e of h)t(e,g,i,f)}else d&A.Multiple&&function(n,l,i,s,f){let u=0,h=n.length-1,d=n[u],p=l.length-1,g=l[u];e:{for(;u<=h&&u<=p&&d.key===g.key;){if(a(d,g,i,s),u++,u>h||u>p)break e;d=n[u],g=l[u]}for(d=n[h],g=l[p];u<=h&&u<=p&&d.key===g.key;){if(a(d,g,i,s),h--,p--,u>h||u>p)break e;d=n[h],g=l[p]}}if(u>h&&u<=p)for(let e=u;e<=p;e++)o(l[e],i);else if(u>p){const e=p+1>=l.length?void 0:l[p+1].el;for(let l=u;l<=h;l++)t(n[l],i,s,e)}else{let _=!1,y=0,m=0;const v=h-u+1,k=new Array(v).fill(-1),C={},w={};for(let e=0;e<v;e++)C[n[u+e].key]=e;for(let e=u;e<=p;e++)if(g=l[e],w[g.key]=!0,m<v){const t=C[g.key];c(t)?(d=n[t+u],a(d,g,i,s),m++,k[t]=e,t<y?_=!0:y=t):o(g,i)}else o(g,i);if(_){const l=r(k);let o=l.length-1;for(let r=h;r>=u;r--){if(d=n[r],-1===k[r]){t(d,i,s,r+1<n.length?n[r+1].el:void 0)}if(r===l[o])o--;else{const t=r+1<n.length?n[r+1].el:void 0;e.insertBefore(i,d.el,t)}}}else for(let e=h;e>=u;e--)if(d=n[e],!w[d.key]){t(d,i,s,(e+1>=n.length?void 0:n[e+1].el)||f)}}}(h,p,g,i,f)}return function(e,t){const n=!!(e.flags&N.Svg);a(e,t.vnode,t,n)}}const G=()=>!!Z||(_warn("hook must be called inside a function component"),!1),H=e=>{G()&&Z._onMount.push(e)},I=e=>{G()&&Z._onUnmount.push(e)},J=e=>{G()&&Z._props.ref&&(Z._props.ref.value=e)},K=(e,t)=>{t||(t=$);const n=q(t);return{mount(l){l?"string"!=typeof l||(l=t.getElement(l))?n(e,l):console.warn("无效的id或者class"):console.warn("请指定一个挂在节点的id或者class或者dom节点")}}};export{A as ChildrenFlags,T as Fragment,P as Portal,x as Ref,R as VNode,N as VNodeFlags,Z as _currentMountingFC,t as _err,e as _warn,f as activeEffect,$ as baseNodeOps,G as checkHookAvailable,K as createApp,d as createEffect,B as createPortal,q as createRenderer,h as effect,a as effectStack,J as expose,j as h,o as isArray,c as isDef,i as isObject,b as isRef,n as isSameVNode,s as isUndef,D as jsx,z as jsxs,r as lis,F as markRaw,H as onMounted,I as onUnmounted,m as pauseTracking,E as reactive,M as ref,v as resetTracking,l as shallowEqual,y as stop,S as toRaw,_ as track,p as trigger};
